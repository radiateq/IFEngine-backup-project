<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0046)http://www.iforce2d.net/b2dtut/joints-overview -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Joints - overview - Box2D tutorials - iforce2d</title>

<link rel="stylesheet" type="text/css" href="./Joints - overview - Box2D tutorials - iforce2d_files/sstyle.css" media="screen, print, projection">
<link rel="stylesheet" type="text/css" href="./Joints - overview - Box2D tutorials - iforce2d_files/cstyle.css" media="screen, print, projection">
<link rel="stylesheet" type="text/css" href="./Joints - overview - Box2D tutorials - iforce2d_files/style.css" media="screen, print, projection">
<script type="text/javascript" async="" src="./Joints - overview - Box2D tutorials - iforce2d_files/ga.js.download"></script><script type="text/javascript" src="./Joints - overview - Box2D tutorials - iforce2d_files/jquery-1.5.1.min.js.download"></script>
<script type="text/javascript" src="./Joints - overview - Box2D tutorials - iforce2d_files/jquery-ui-1.8.13.custom.min.js.download"></script>
<script type="text/javascript" src="./Joints - overview - Box2D tutorials - iforce2d_files/b2dtut.js.download"></script>
<!--
<script type="text/javascript" src="/rube/loaders/javascript/box2dweb.js"></script>
<script type="text/javascript" src="/rube/loaders/javascript/loadrube.js"></script>
<script type="text/javascript" src="/js/box2dweb_shortNames.js"></script>
<script type="text/javascript" src="/js/xmasheader.js"></script>
-->
<!--[if !IE 7]>
    <style type="text/css">
      #wrap {display:table;height:100%}
      </style>
<![endif]-->
<script type="text/javascript" async="" src="./Joints - overview - Box2D tutorials - iforce2d_files/embed.js.download"></script><link rel="preload" href="./Joints - overview - Box2D tutorials - iforce2d_files/f.txt" as="script"><script type="text/javascript" src="./Joints - overview - Box2D tutorials - iforce2d_files/f.txt"></script><link rel="preload" href="./Joints - overview - Box2D tutorials - iforce2d_files/f(1).txt" as="script"><script type="text/javascript" src="./Joints - overview - Box2D tutorials - iforce2d_files/f(1).txt"></script><link rel="preload" as="style" href="https://c.disquscdn.com/next/embed/styles/lounge.d49f53e192b9080ef8880a7c9b24f1c3.css"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/common.bundle.18932c85febf9520158697cdc31f08ae.js"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/lounge.bundle.e7b46487e9e041aabc7c7cff31722578.js"><link rel="preload" as="script" href="https://disqus.com/next/config.js"><script src="./Joints - overview - Box2D tutorials - iforce2d_files/alfie.f51946af45e0b561c60f768335c9eb79.js.download" async="" charset="UTF-8"></script></head>

<body>

<div id="wrap">

<div id="header">
  

<div class="limitwidth-colored">
  <div style="width:800px;margin:auto">
    <div style="border:1px solid #eee;margin-left:0">
      
      <table style="margin-left:0;border:1px solid #eee;"><tbody><tr><td>
      <br>
        <div style="font-size:34px">
          iforce2d
        </div>
      
      </td><td style="text-align:center;width:600px">
      
      <br>
      <br>
      <br>
      <span style="font-size:8px">&lt;# insert awesome header graphics #&gt;</span><br>
      
      </td></tr></tbody></table>
      <span style="font-size:10px"> Crushing immovable objects since 2011</span><br>      
      <br>
      
    </div>
  </div>
</div>
<br>

<!--
<div class="limitwidth">  
<canvas id="headercanvas" width="980" height="92">
  <div style="background-color:#eee">
  <div style="width:800px;margin:auto;background-color:#eee;">
    <div style="border:1px solid #eee;margin-left:0">
      
      <table style="margin-left:0;border:1px solid #eee;"><tr><td>
      <br />
        <div style="font-size:34px">
          iforce2d
        </div>
      
      </td><td style="text-align:center;width:600px">
      
      <br />
      <br />
      <br />
      <span style="font-size:8px">&lt;# insert awesome header graphics #&gt;</span><br />
      
      </td></tr></table>
      <span style="font-size:10px"> Crushing immovable objects since 2011</span><br />      
      <br />
      
    </div>
  </div>
  </div>
</canvas>
</div>
<div class="limitwidth" style="text-align:right">
  <a href="#" onclick="pause()">Pause</a>
</div>
-->
  <!--<div class="smallspacer">
  </div>-->	
</div>

<div id="topics">
  <!--<div style="color:red;text-align:center">Sep 1 2011 - The server recently suffered a hard drive crash so things are a bit messed up.<br />Some of the download links are missing. Please come back later to try them again.</div><br />-->
<div class="limitwidth">
    <a href="http://www.iforce2d.net/b2dtut/">Box2D tutorials</a> |
    <a href="http://www.iforce2d.net/cc2dxres/">Cocos2d-x resources</a> |
    <a href="http://www.iforce2d.net/b2djson/">Box2D JSON loader</a> |
    <a href="http://www.iforce2d.net/rube/">R.U.B.E Box2D editor</a> |
    <a href="http://www.iforce2d.net/rube-free/">R.U.B.E free</a> |
    <a href="http://www.iforce2d.net/b2dapps/">My apps</a> |
    <a href="http://www.iforce2d.net/blog/">Blog</a> <span style="font-weight:bold;color:#f00;background-color:#ff0">!</span> |
    <a href="http://www.iforce2d.net/b2djp/">日本語はこちら</a> |
    <a href="http://ohcoder.com/blog/categories/box2d-tutorials/">Box2D中文教程</a> <!-- |
    <a href="/rp2012/">Ron Paul 2012</a>-->
  </div>


<div style="height:6px"></div>

<div class="limitwidth-colored">
    <table style="margin-left:0"><tbody><tr>
        <td style="width:48px;text-align:center">
            <span style="color:#660099"><b>News</b></span>
        </td>
        <td>
            <span style="color:#900">Mar 20</span>: <img src="./Joints - overview - Box2D tutorials - iforce2d_files/window12.png"> <a href="http://www.iforce2d.net/rube">R.U.B.E v1.7</a> released. Instanciable objects!<br>
            <span style="color:#900">Feb 21</span>: Added <a href="http://www.iforce2d.net/rube?panel=loaders">RUBE sample loader for Cocos2d-X v3.4</a>.<br>
            <span style="color:#900">Feb 17</span>: Funny Fists released in <a href="https://itunes.apple.com/us/app/funny-fists/id899838910?ls=1&amp;mt=8">iOS App store</a> and <a href="https://play.google.com/store/apps/details?id=org.iforce2d.funnyfists">Google Play store</a>. (<a href="http://www.youtube.com/watch?v=37TAU85golw">YouTube video</a>)<br>
            
            <span style="color:#609"><b>2014</b></span><br>

            <span style="color:#900">May 25</span>: <a href="http://www.iforce2d.net/rube">R.U.B.E v1.6</a> released. Samplers!<br>
            <span style="color:#900">May 12</span>: <a href="http://www.iforce2d.net/cc2dxres/otf">"On-the-fly" resource updating for Cocos2d-x</a><br>
            <span style="color:#900">Apr 22</span>: New blog post: <a href="http://www.iforce2d.net/blog/2014-04-22">Inverted pendulum control</a><br>
            <span style="color:#900">Apr 7</span>: <a href="http://www.iforce2d.net/cc2dxres/screenlog">On-screen logging class for Cocos2d-x</a><br>
            <span style="color:#900">Mar 22</span>: <a href="http://www.downhillsupreme2.com/">Downhill Supreme 2</a> released for iOS and Android<br>
            <span style="color:#900">Jan 2</span>: YouTube video: <a href="http://www.youtube.com/watch?v=F-aDMZUVw0c">Making soft-body wheels in RUBE</a><br>
            
            <span style="color:#609"><b>2013</b></span><br>
            <span style="color:#900">Oct  6</span>: Check out <a href="http://www.youtube.com/watch?v=qow1iONAC3I">Supplyfront RTS</a>, my 7dRTS entry continued.<br>
            <span style="color:#900">Sep 26</span>: <a href="http://www.iforce2d.net/rube">R.U.B.E v1.5</a> released. Customizable item labels, snap-to-grid, export filtering, full-text help search.<br>
            <span style="color:#900">Sep 18</span>: Added <a href="http://www.iforce2d.net/rube?panel=loaders">RUBE sample loader for Cocos2d-X</a>.<br>
            
            <div class="morenews">
                <a href="http://www.iforce2d.net/b2dtut/joints-overview#" class="toggleDivLinkAll" divid="morenews">More...</a><br>
            </div>
            <div class="morenews toggleDivContent">
                <!--<a href="#" class="toggleDivLinkAll" divid="morenews">Less...</a><br>-->
            
                <span style="color:#900">Sep 16</span>: Updated <a href="http://www.iforce2d.net/rube?panel=loaders">RUBE sample loader for Cocos2d v2</a>.<br>
                <span style="color:#900">Aug 12</span>: <a href="http://zehfernando.com/2013/loading-and-running-r-u-b-e-scenes-with-nape-as3/">RUBE loader for Nape</a> by Zeh Fernando<br>
                <span style="color:#900">Aug  7</span>: Added <a href="http://www.iforce2d.net/rube?panel=loaders">RUBE sample loader for SFML</a>.<br>
                <span style="color:#900">Jul 30</span>: Try my MiniLD <a href="http://www.ludumdare.com/compo/minild-44/?action=preview&amp;uid=7091">7dRTS entry</a>.<br>
                <span style="color:#900">Jul 24</span>: Added <a href="http://www.iforce2d.net/b2dtut/particles">physics-driven particles tutorial</a>.<br>
                <span style="color:#900">Jul 20</span>: New blog post: <a href="http://www.iforce2d.net/blog/2013-07-20">rendering solid ground</a> (as in Downhill Supreme)<br>            
            
                <span style="color:#900">Jul 18</span>: <a href="http://www.iforce2d.net/rube">R.U.B.E v1.4</a> released. Command-line interface for batch jobs, hotkeys for scripts, better script management.<br>
                <span style="color:#900">May 22</span>: <a href="http://www.downhillsupreme.com/">Downhill Supreme</a> is out now! (iOS)<br>    
                <span style="color:#900">Apr  2</span>: <a href="http://www.iforce2d.net/rube">R.U.B.E v1.3</a> released. Collision bitplane editing, Cocos2d-iphone loader, usability improvements.<br>
                <span style="color:#900">Mar 11</span>: <a href="http://www.iforce2d.net/rube">R.U.B.E v1.2</a> released. Now supports weld, friction, motor joints and automatic image reloading.<br>
                <span style="color:#900">Mar 10</span>: <a href="https://github.com/tescott/RubeLoader">RUBE loader for libGDX</a> by Tim Scott<br>
                <span style="color:#900">Jan 28</span>: New blog post: a functional <a href="http://www.iforce2d.net/blog/2013-01-28">combustion engine</a>!<br>
                <span style="color:#900">Jan 22</span>: New blog post: <a href="http://www.iforce2d.net/blog/2013-01-22">wind tunnel</a><br>
                <span style="color:#900">Jan 20</span>: Added <a href="http://www.iforce2d.net/b2dtut/explosions">explosions tutorial</a>.<br>
                <span style="color:#900">Jan 16</span>: Added <a href="http://www.iforce2d.net/b2dtut/buoyancy">buoyancy tutorial</a>.<br>
                <span style="color:#900">Jan 16</span>: AndEngine <a href="https://github.com/LouisBHirst/AndEngineJb2dJson">sample project</a> to load RUBE scene by Bart Hirst<br>                
                <span style="color:#900">Jan 14</span>: <a href="http://www.iforce2d.net/rube">R.U.B.E v1.1</a> released, now supports custom properties.<br>
                <span style="color:#900">Jan 1</span>: All basic tutorials are now available in Chinese at <a href="http://ohcoder.com/blog/categories/box2d-tutorials/">ohcoder.com</a> Huge thankyou to <a href="https://twitter.com/OhCoder">@OhCoder</a>!<br>
                
                <span style="color:#609"><b>2012</b></span><br>
                <span style="color:#900">Dec 23</span>: <a href="http://www.iforce2d.net/forums">Discussion forums</a> have been set up<br>
                <span style="color:#900">Dec 4</span>: R.U.B.E v1.0 is <a href="http://www.iforce2d.net/rube">ready</a> !<br>
                <span style="color:#900">Dec 2</span>: YouTube video: <a href="http://www.youtube.com/watch?v=Oc9mzuWyPOI">Box2D pendulum clock</a><br>
                <span style="color:#900">Nov 26</span>: New blog post: <a href="http://www.iforce2d.net/blog/2012-11-26">rocket platform thingy</a><br>
                <span style="color:#900">Nov 25</span>: <a href="http://www.youtube.com/watch?v=vEZhPpSCAMw">Video</a> of R.U.B.E scenes in Chipmunk.<br>
                <span style="color:#900">Nov 23</span>: A sample project to load R.U.B.E scenes into Chipmunk physics! <a href="http://www.iforce2d.net/rube?panel=loaders">Details here</a>.<br>
                <span style="color:#900">Nov 14</span>: An XCode sample project to load R.U.B.E scenes on iOS is now available. <a href="http://www.iforce2d.net/rube?panel=loaders">Details here</a>.<br>
                <span style="color:#900">Nov 11</span>: A Java version of b2dJson is now available, based on <a href="http://www.jbox2d.org/">JBox2D</a>.<br>
                <span style="color:#900">Nov  6</span>: A Javascript version of b2dJson based on box2dweb is now available. <a href="http://www.iforce2d.net/rube/loaders/javascript">Demo here!</a><br>
                <span style="color:#900">Nov  2</span>: The full specification of the JSON format used by b2dJson can be found here: <a href="http://www.iforce2d.net/rube/json-structure">b2dJson file structure</a><br>
                <span style="color:#900">Oct 28</span>: YouTube video: <a href="http://www.youtube.com/watch?v=7DXzlE68abA">2-minute ragdoll in R.U.B.E Box2D editor</a><br>
                <span style="color:#900">Sep 29</span>: YouTube video: <a href="http://www.youtube.com/watch?v=-S-pmWLLGrU">R.U.B.E Box2D editor usage example</a><br>                
            </div>
        </td>
    </tr></tbody></table>
</div>

<!--<div style="text-align:center">
    <span style="font-weight:bold;color:#f00;background-color:#ff0">New!</span>
    <a href="/rube/loaders/javascript">Box2D vehicles Javascript demo in your browser!</a> 
</div>-->

<div style="height:6px"></div>





</div>


<div id="main">

  <div class="limitwidth-colored">

    <table>
      <tbody><tr>
	<td>
	  
   <div id="sidebar">
	  <div id="menu">
   <b>Box2D tutorial topics</b>
<ul class="no-indent">
      <li>
            <a href="http://www.iforce2d.net/b2dtut/introduction">Introduction</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/setup-linux">Setting up (Linux)</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/setup-windows">Setting up (Windows)</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/setup-osx">Setting up (Mac OSX)</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/testbed-structure">Testbed structure</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/making-a-test">Making a test</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/bodies">Bodies</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/fixtures">Fixtures</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/worlds">World settings</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/forces">Forces and impulses</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/custom-gravity">Custom gravity</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/constant-speed">Moving at constant speed</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/rotate-to-angle">Rotating to a given angle</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/jumping">Jumping</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/debug-draw">Using debug draw</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/drawing-objects">Drawing your own objects</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/user-data">User data</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/collision-anatomy">Anatomy of a collision</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/collision-callbacks">Collision callbacks</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/collision-filtering">Collision filtering</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/sensors">Sensors</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/raycasting">Ray casting</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/world-querying">World querying</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/removing-bodies">Removing bodies safely</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/jumpability">The 'can I jump' question</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/ghost-vertices">Ghost vertices</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/joints-overview">Joints - overview</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/joints-revolute">Joints - revolute</a>      </li>
      <li>
            <a href="http://www.iforce2d.net/b2dtut/joints-prismatic">Joints - prismatic</a>      </li>
      <div style="height:5px"></div>
      <hr style="width:60px">
      <div style="height:3px"></div>
      <li><a href="http://www.iforce2d.net/b2dtut/gotchas">FAQ / gotchas</a></li>
      <div style="height:5px"></div>
      <hr style="width:60px">
      <div style="height:3px"></div>
      <li><a href="http://www.iforce2d.net/b2dtut/sourcecode">Tutorial source code</a></li>
</ul>

<b>Advanced topics</b>
<ul class="no-indent">
      <li><a href="http://www.iforce2d.net/b2dtut/conveyor-belts">Conveyor belts</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/projected-trajectory">Projected trajectory</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/sticky-projectiles">Sticky projectiles</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/suspension">Hovercar suspension</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/top-down-car">Top-down car physics</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/one-way-walls">One-way walls</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/buoyancy">Buoyancy</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/explosions">Explosions</a></li>
      <li><a href="http://www.iforce2d.net/b2dtut/particles">Physics-driven particles</a> <!--<span style="font-weight:bold;color:#f00;background-color:#ff0">New!</span>--> </li>
</ul>

<b>Other topics</b>
<ul class="no-indent">
      <li><a href="http://www.iforce2d.net/b2dtut/setup-ios">Setting up (iPhone)</a></li>
</ul>

<!-- <span style="font-weight:bold;color:#f00;background-color:#ff0">New!</span> -->
<!-- <span style="font-weight:bold;color:#f90;background-color:#fff">wip</span> -->
	    <div id="smallspacer">
	    </div>
	  </div><!--menu-->
   </div><!--sidebar-->
	
    <div id="ads">
	<div id="ads">
    <a href="http://www.iforce2d.net/lama/lama.php?id=8"><img src="./Joints - overview - Box2D tutorials - iforce2d_files/bacterial.jpg" style="padding-top:5px;border-style:none"></a>
    <a href="http://www.iforce2d.net/lama/lama.php?id=7"><img src="./Joints - overview - Box2D tutorials - iforce2d_files/ff.jpg" style="padding-top:5px;border-style:none"></a>
    <a href="http://www.iforce2d.net/lama/lama.php?id=6"><img src="./Joints - overview - Box2D tutorials - iforce2d_files/moldbang.jpg" style="padding-top:5px;border-style:none"></a>
    <a href="http://www.iforce2d.net/lama/lama.php?id=5"><img src="./Joints - overview - Box2D tutorials - iforce2d_files/dswoopers.jpg" style="padding-top:5px;border-style:none"></a>
    <a href="http://www.iforce2d.net/lama/lama.php?id=4"><img src="./Joints - overview - Box2D tutorials - iforce2d_files/orr.jpg" style="padding-top:5px;border-style:none"></a>
    <a href="http://www.iforce2d.net/lama/lama.php?id=3"><img src="./Joints - overview - Box2D tutorials - iforce2d_files/dhs.jpg" style="padding-top:5px;border-style:none"></a>
    <!--<a href="/lama/lama.php?id=2"><img src="/ads/adhesion.jpg" style="padding-top:5px;border-style:none" /></a>-->
    <!--<a href="/lama/lama.php?id=1"><img src="/ads/gnomes.jpg" style="padding-top:5px;border-style:none" /></a>-->
    <div class="smallspacer"></div>



<script async="" src="./Joints - overview - Box2D tutorials - iforce2d_files/f(2).txt"></script>
<!-- testad -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2818479917311013" data-ad-slot="4760173888" data-ad-format="auto"></ins>


    
</div>
    </div>

	</td>
    <td>	  
      <div id="content">
	
	<div id="blog">
	    <div class="insert-title">
		<h2>Box2D C++ tutorials - Joints - overview</h2>
		<span style="font-size:0.6em">Last edited: July 14 2013</span>		    
	    </div>
	    <br>
Chinese version -&gt;
<a href="http://ohcoder.com/blog/2012/12/25/joints-overview/">中文</a><br>
<br>

<h3>Joints</h3>


<br>Box2D has a number of 'joints' that can be used to connect two bodies together.
These joints can be used to simulate interaction between objects to form hinges, pistons,
ropes, wheels, pulleys, vehicles, chains, etc. Learning to use joints effectively helps to
create a more engaging and interesting scene.<br>
<br>
Lets take a quick look at the available joints, then go over their characteristics,
then finally we'll make an example using a few of the most commonly used ones.
Here are the joints in Box2D v2.1.2:
<ul>
  <li>Revolute - a hinge or pin, where the bodies rotate about a common point</li>
  <li>Distance - a point on each body will be kept at a fixed distance apart</li>
  <li>Prismatic - the relative rotation of the two bodies is fixed, and they can slide along an axis</li>
  <li>Line - a combination of revolute and prismatic joints, useful for modelling vehicle suspension</li>
  <li>Weld - holds the bodies at the same orientation</li>
  <li>Pulley - a point on each body will be kept within a certain distance from a point in the world, <br>
  where the sum of these two distances is fixed, kinda... <span style="font-size:0.5em">(sheesh... there is no succinct way to describe this)</span></li>
  <li>Friction - reduces the relative motion between the two bodies</li>
  <li>Gear - controls two other joints (revolute or prismatic) so that the movement of one affects the other</li>
  <li>Mouse - pulls a point on one body to a location in the world</li>
</ul>
<div style="font-size:0.8em">
  Joints added after v2.1.2:
  <ul>
    <li>Wheel - the line joint, renamed</li>
    <li>Rope - a point on each body will be constrained to a maximum distance apart</li>
  </ul>
</div>
In the source code, the actual joint classes are named like b2RevoluteJoint, b2DistanceJoint, etc.
<br>
<br>
<br>



<h3>Creating a joint</h3>
<br>
Joints are created in a similar way to bodies and fixtures, in that you setup a 'definition'
which is then used to create the joint instance itself. The Box2D world manages the actual
construction of the joint instance, and when you are done with it you tell the world to destroy
it. This process is nothing new for us by now, but just to recap here is how the typical
creation of a joint goes (the xxx will be replaced with one of the joint names above):
<table class="box2d"><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
</pre></td><td class="de1"><pre class="de1">&nbsp; <span class="co1">//set up the definition for a xxx joint</span>
&nbsp; b2xxxJointDef jointDef<span class="sy4">;</span>
&nbsp; jointDef.<span class="me1">xxx</span> <span class="sy1">=</span> ...<span class="sy4">;</span>
&nbsp; 
&nbsp; <span class="co1">//create the joint</span>
&nbsp; b2xxxJoint<span class="sy2">*</span> joint <span class="sy1">=</span> <span class="br0">(</span>b2xxxJoint<span class="sy2">*</span><span class="br0">)</span>world<span class="sy2">-</span><span class="sy1">&gt;</span>CreateJoint<span class="br0">(</span> <span class="sy3">&amp;</span>jointDef <span class="br0">)</span><span class="sy4">;</span></pre></td></tr></tbody></table>Although the overall method is similar, there is one very important difference
to creating bodies and fixtures. Let's recap some more: when creating
a body, we used the function CreateBody which returns a b2Body*, and likewise CreateFixture returns a
b2Fixture*. To get a body with different features, eg. static or dynamic, we set the
appropriate field in the definition, and we got a b2Body* with those characteristics.
Even with different characteristics, the behaviour of bodies is quite similar.<br>
<br>
Joints on the other hand each have quite different behavior, in fact so much so that they are
implemented as a separate classes, like b2RevoluteJoint, b2DistanceJoint etc.
The class b2Joint is the parent of all the classes mentioned above, but it is an abstract
class which is never used directly. So when creating joints, although the function CreateJoint
does return a b2Joint* type as expected, this is really a pointer to an instance of
one of the classes above.<br>
<br>
That's why the returned value from CreateJoint has been cast to a b2xxxJoint* in the code above.
Of course if you don't need to keep a reference to the joint, you can just call CreateJoint without
even storing the returned value at all.
<br>
<br>
<br>



<h3>Joint definitions - common settings</h3>
<br>
Although each joint has a different behavior, you might have guessed from the fact that
they have a common parent, they have some features in common too. Here are the fields which
are common to every joint definition:
<ul>
  <li>bodyA - one of the bodies joined by this joint (required!)</li>
  <li>bodyB - the other body joined by this joint (required!)</li>
  <li>collideConnected - specifies whether the two connected bodies should collide with each other</li>
</ul>
The two body settings are obviously the bodies this joint will act on. In some cases it <i>does</i> make
a difference which is which, depending on the joint type. See the discussion of each joint for details.<br>
<br>
The collideConnected setting allows you to say whether the two bodies should still obey the normal
collision rules or not. For example if you are making a rag-doll, you'll probably want to let the upper leg
and lower leg segments overlap at the knee, so you would set collideConnected to false. If you are making
an elevator platform, you'll probably want the platform to collide with the ground,
so collideConnected would be true. The default value is false.<br>
<br>
The code up to this point is quite simple, here's an example:
<table class="box2d"><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
</pre></td><td class="de1"><pre class="de1">&nbsp; jointDef.<span class="me1">bodyA</span> <span class="sy1">=</span> upperLegBody<span class="sy4">;</span>
&nbsp; jointDef.<span class="me1">bodyB</span> <span class="sy1">=</span> lowerLegBody<span class="sy4">;</span>
&nbsp; jointDef.<span class="me1">collideConnected</span> <span class="sy1">=</span> <span class="kw5">false</span><span class="sy4">;</span></pre></td></tr></tbody></table><br>
<br>



<h3>Joint definitions - specific settings</h3>
<br>
After setting the common fields in a joint definition, you'll need to specify the
details for the type of joint you are making. This commonly includes an anchor point
on each body, limits on the range of movement, and motor settings. These need to be
discussed in more detail for each joint since they are used slightly differently,
but here is a general overview of what these terms mean.
<ul>
  <li><b>anchor points</b><br>
    Typically a point on each body is given as the location around which the bodies
    must interact. Depending on <br>the joint type, this point will be the center of rotation,
    the locations to keep a certain distance apart, etc.
  </li>
  <li><b>joint limits</b><br>
    Revolute and prismatic joints can be given limits, which places a restriction
    on how far the bodies can<br> rotate or slide.
  </li>
  <li><b>joint motors</b><br>
    Revolute, prismatic and line (wheel) joints can be given motor settings, which means
    that instead of spinning <br>or sliding around freely, the joint acts as if it had it's
    own power source. The motor is given a maximum force or <br>torque, and this can be used
    in combination with a target velocity to spin or slide bodies in relation to each other.<br>
    If the velocity is zero, the motor acts like a brake because it aims to reduce any
    motion between the bodies.
  </li>
</ul>
See the topics below for a discussion of the specific features of each joint.
<br>
<br>
<br>



<h3>Controlling joints and getting feedback</h3>
<br>
After a joint is created you can alter the parameters for it's behaviour such as
changing the motor speed, direction or strength, enabling or disabling the limits.
This can be very useful to build a range of interesting
scenes and contraptions, for example wheels to drive a car, an elevator which moves up and down,
a drawbridge that opens and closes. <br>
<br>
You can also get information about what position the joint is at, how fast it is
moving etc. This is useful if you want to use the activity of the joint in your game
logic. You can also get the force and torque that the joint is applying to the bodies
to keep them in the right place, which can be useful if you want to allow the joint to
break when it sustains too much force.<br>
<br>
<br>



<h3>Cleaning up</h3>
<br>
There are two ways a joint can be destroyed. The first is the same way that bodies and
fixtures are destroyed:
<table class="box2d"><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1">&nbsp; world<span class="sy2">-</span><span class="sy1">&gt;</span>DestroyJoint<span class="br0">(</span> myJoint <span class="br0">)</span><span class="sy4">;</span></pre></td></tr></tbody></table>The other way which is not so obvious, is that joints are destroyed when one of the bodies
they connect is destroyed. There is no point in having a joint which doesn't connect anything.
This means that if you are changing joints during the simulation, you need to keep
in mind the order in which you delete bodies and joints. For example note the differences
between these situations:
<table class="box2d"><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
</pre></td><td class="de1"><pre class="de1">&nbsp; <span class="co1">//'myJoint' connects body1 and body2</span>
&nbsp; 
&nbsp; <span class="co1">//BAD!</span>
&nbsp; world<span class="sy2">-</span><span class="sy1">&gt;</span>DestroyBody<span class="br0">(</span> body1 <span class="br0">)</span><span class="sy4">;</span> <span class="co1">// myJoint becomes invalid here</span>
&nbsp; world<span class="sy2">-</span><span class="sy1">&gt;</span>DestroyJoint<span class="br0">(</span> myJoint <span class="br0">)</span><span class="sy4">;</span> <span class="co1">// crash</span>
&nbsp; 
&nbsp; <span class="co1">//OK</span>
&nbsp; world<span class="sy2">-</span><span class="sy1">&gt;</span>DestroyJoint<span class="br0">(</span> myJoint <span class="br0">)</span><span class="sy4">;</span>
&nbsp; world<span class="sy2">-</span><span class="sy1">&gt;</span>DestroyBody<span class="br0">(</span> body1 <span class="br0">)</span><span class="sy4">;</span></pre></td></tr></tbody></table>Generally if you know the game logic, and when joints are created and
how objects are likely to be destroyed, you can arrange your cleanup routines to avoid
the first case above. However if you are working on a complex project you might find it
easier to use the 'destruction listener' feature provided by Box2D. This allows you to
receive a notification when any joint is destroyed so you know not to use it any more.
Check out the section on 'Implicit destruction' in the 'Loose Ends' section of the
<a href="http://box2d.org/documentation.html">user manual</a>.<br>
<br>
<br>




<a name="joint-position-trouble"></a>
<h3>Trouble with joint positions</h3>
<br>
Sometimes you might find that a joint has difficulty keeping the two anchor points in the same place.
This has to do with the way the bodies are corrected by the joint. The joint calculates the impulse
necessary to push the bodies back into the right alignment, and this impulse is applied to each
body with the heavier body being given less of the impulse, and the lighter body being given more.

<br>
<br>
If there are no other restrictions present (eg. where the two bodies are only interacting with each
other) this is fine, and the bodies move as expected according to the impulses.
However when another constraint is applied, this balancing of the impulse can be upset by the action
of other impulses, usually those acting on the lighter of the two bodies. This is typically seen when
a light body has two heavier bodies either joined to it or simply pressing against it. In fact, the
same problem can be seen with simple collision resolution where a light body is sandwiched between
two significantly heavier bodies, so this issue is not solely a problem with joints.<br>
<br>
These are the typical cases:
<img class="ss" alt="joint-overview" src="./Joints - overview - Box2D tutorials - iforce2d_files/joints-position-trouble.png">
Although in the left case the bodies are not joined, the same type of calculation is going on to
resolve the overlapping fixtures. In each of these situations looking at the forces involved
shows that the light body really is caught between a rock and a hard place.
<img class="ss" alt="joint-overview" src="./Joints - overview - Box2D tutorials - iforce2d_files/joints-position-trouble2.png">
Because it is light,
it is affected most by the correcting impulse, and the heavier body on top is not corrected very
much. The result is that it can take many time steps for the mis-alignment (or overlap in the case
of a collision) to be resolved. Another very common situation where this occurs is when a chain is
made from light segments, and then a heavy body is attached to the end - in that case the light bodies
get 'stretched' rather than squashed as above, but the cause of the problem is the same.<br>
<br>
The simplest way to overcome this problem is to make bodies that must interact with each other
in this way have similar masses. If this seems unreasonable bear in mind that in the real world
nothing is perfectly rigid so we never really see this situation occurring, and ideally I guess
the object in the middle should be crushed
somehow but that's a tricky thing to program. In the case where a heavy object hangs on a chain
of light segments, this too in the real world results in either a deformation of the segments
or a breakage of the chain altogether (fortunately that's not so tricky to program).<br>
<br>
<br>



<h3>Details on how to use Box2D joints</h3>
<br>
While joints have some things in common, the differences between them are too great
to cover in one topic. Check out the links below for a detailed discussion of specific
joints and their usage.
<ul>
  <li><a href="http://www.iforce2d.net/b2dtut/joints-revolute">Revolute</a></li>
  <li><a href="http://www.iforce2d.net/b2dtut/joints-prismatic">Prismatic</a></li>
  <!--<li>Distance</li>
  <li>Line</li>
  <li>Weld</li>
  <li>Pulley</li>
  <li>Friction</li>
  <li>Gear</li>
  <li>Mouse</li>-->
</ul>
<br>
<!--<div style="text-align:center;color:#f00;font-size:0.9em">(this topic is currently under construction)</div>
<br />-->
<br><hr>
 <div class="next-tut">Next: <a href="http://www.iforce2d.net/b2dtut/joints-revolute">Joints - revolute</a></div>
	</div>
	
		
	<a name="commentTop"></a>
		
	<div id="disqus">
	  
	  <div id="disqus_thread"><iframe id="dsq-app4808" name="dsq-app4808" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./Joints - overview - Box2D tutorials - iforce2d_files/saved_resource.html" style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 5724px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="indicator-north" name="indicator-north" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 720px !important; border: none !important; overflow: hidden !important; top: 0px !important; min-width: 720px !important; max-width: 720px !important; position: fixed !important; z-index: 2147483646 !important; height: 0px !important; min-height: 0px !important; max-height: 0px !important; display: none !important;" src="./Joints - overview - Box2D tutorials - iforce2d_files/saved_resource(1).html"></iframe><iframe id="indicator-south" name="indicator-south" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 720px !important; border: none !important; overflow: hidden !important; bottom: 0px !important; min-width: 720px !important; max-width: 720px !important; position: fixed !important; z-index: 2147483646 !important; height: 0px !important; min-height: 0px !important; max-height: 0px !important; display: none !important;" src="./Joints - overview - Box2D tutorials - iforce2d_files/saved_resource(2).html"></iframe></div>
	  <script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'iforce2d'; // required: replace example with your forum shortname

// The following are highly recommended additional parameters. Remove the slashes in front to use.
var disqus_identifier = 'joints-overview';
// var disqus_url = 'http://example.com/permalink-to-page.html';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
	  </script>

	</div><!--disqus-->

	<div class="smallspacer">
	</div>
	
      </div><!--content-->
      
    </td>
      <td>
              </td>
      </tr>
    </tbody></table>
    
  </div><!--limitwidth-colored-->

  <div class="smallspacer">
  </div>

</div><!--main-->
</div><!--wrap-->

<div id="footer">
  <div class="limitwidth-colored">
  <div id="footer-content">
    <div class="center">
      
      <br>
      <span style="font-size:10px">Want to promote your Box2D game here for free?<br>
      Contact gmail 'iforce2d'<br>
      If you find this site useful please consider <a href="http://www.iforce2d.net/support">supporting it</a> :) 
      </span>
      <br>
      <br>
      
    </div>
  </div>
</div>

</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23374246-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>




<iframe style="display: none;" src="./Joints - overview - Box2D tutorials - iforce2d_files/saved_resource(3).html"></iframe></body></html>